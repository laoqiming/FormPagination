!function(a,i){"function"==typeof define&&define.amd?define(["jquery"],a):void 0!=typeof jQuery&&a(jQuery)}(function(a){"use strict";a.fn.formPagination=function(i){function n(a){var i={};return a.replace(/([\w-]+)=([^&]+)/gi,function(a,n,t){i[n]=void 0===i[n]?decodeURI(t):i[n]+","+decodeURI(t)}),i}function t(i){var n=null,t="";for(var o in i)n=a("[name="+o+"]",this),t=i[o]||"",n.is(":checkbox")?(t=t.split(","),n.prop("checked",!1).each(function(){var i=a(this);for(var n in t)i.attr("value")==t[n]&&i.prop("checked",!0)})):n.is(":radio")?n.each(function(){a(this).prop("checked",a(this).attr("value")==t)}):n.val(t)}var o={empty:'<div class="alert alert-warning text-center">没有符合条件的记录！</div>'};return a.extend(o,i),this.each(function(){var i=a(this),e=n(location.search),r=[],p=1,s=12,g=1,c=0,l=5;for(var f in e)i.find("[name="+f+"]").length||r.push('<input type="hidden" name="'+f+'" value="'+e[f]+'">');a(r.join("")).appendTo(i),t.call(i,e),p=Number(a(".form-pagination-page",this).val())||s,s=Number(a(".form-pagination-pagesize",this).val())||s,c=Number(a(".form-pagination-recordcount",this).val())||c,l=Number(a(".form-pagination-showpagecount",this).val())||l,g=Math.floor(c/s)+(c%s?1:0),p=p<1?1:p,p=p>g?g:p,a(".form-pagination-page",this).val(p);var h=1,u=1,d=Math.floor(l/2);if(h=p-d<1?1:p-d,u=l+h-1,u=u>g?g:u,u-h+1<l&&h>1&&(h-=l-(u-h+1),h=h<1?1:h),0==a(".form-pagination",this).length&&a('<div class="form-pagination"></div>').appendTo(this),c>0){0==a(".form-pagination-paging",this).length&&a('<div class="form-pagination-stat">共有<b class="form-pagination-stat-recordcount">0</b>条记录</div>                         <ul class="pagination form-pagination-paging">                        </ul>                        <div class="form-pagination-gotopage-wrap">                            <div class="input-group">                                <div class="input-group-addon">跳到</div>                                 <select class="form-pagination-gotopage form-control"></select>                             </div>                         </div>').appendTo(a(".form-pagination",this));var v=[];v.push('<li><a href="javascript:;" data-page="1"><i class="glyphicon glyphicon-step-backward"></i> </a></li>');for(var m=h;m<=u;m++)v.push('<li class="'+(m==p?"active":"")+'"><a href="javascript:;" data-page="'+m+'">'+m+"</a></li>");for(v.push('<li><a href="javascript:;" data-page="'+g+'"><i class="glyphicon glyphicon-step-forward"></i> </a></li>'),a(v.join("")).appendTo(a(".form-pagination-paging",this)),a(".form-pagination-stat-recordcount",this).text(c),v=[],m=1;m<=g;m++)v.push('<option value="'+m+'">'+m+"</option>");a(v.join("")).appendTo(a(".form-pagination-gotopage",this))}else a(".form-pagination",this).html(o.empty);a(".form-pagination-gotopage",this).val(p).change(function(){i.find(".form-pagination-page").val(a(this).val()),i.trigger("submit")}),a(".form-pagination-paging a",this).click(function(){i.find(".form-pagination-page").val(a(this).attr("data-page")),i.trigger("submit")}),a(".form-pagination-pagesize",this).is("select")&&a(".form-pagination-pagesize",this).change(function(){i.trigger("submit")}),i.submit(function(i){console.log(i),i.isTrigger||(a(".form-pagination-page",this).val(1),console.log(a(".form-pagination-page",this).val()))})})}});